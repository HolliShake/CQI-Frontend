{"remainingRequest":"/home/andydevs69420/Documents/DTO/CQIFrontend/node_modules/babel-loader/lib/index.js!/home/andydevs69420/Documents/DTO/CQIFrontend/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/home/andydevs69420/Documents/DTO/CQIFrontend/src/state/modules/auth.js","dependencies":[{"path":"/home/andydevs69420/Documents/DTO/CQIFrontend/src/state/modules/auth.js","mtime":1678070385884},{"path":"/home/andydevs69420/Documents/DTO/CQIFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1678066322946},{"path":"/home/andydevs69420/Documents/DTO/CQIFrontend/node_modules/babel-loader/lib/index.js","mtime":1678066323882},{"path":"/home/andydevs69420/Documents/DTO/CQIFrontend/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1678066323126}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2F1dGhzZXJ2aWNlL3VzZXIuc2VydmljZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vcm91dGVyL2luZGV4JzsKdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwpleHBvcnQgdmFyIHN0YXRlID0gdXNlciA/IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZHVzZXI6IHRydWUKICB9LAogIHVzZXI6IHVzZXIKfSA6IHsKICBzdGF0dXM6IHt9LAogIHVzZXI6IG51bGwKfTsKZXhwb3J0IHZhciBhY3Rpb25zID0gewogIC8vIExvZ3MgaW4gdGhlIHVzZXIuCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIF9yZWYyKSB7CiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLAogICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgdmFyIGVtYWlsID0gX3JlZjIuZW1haWwsCiAgICAgICAgcGFzc3dvcmQgPSBfcmVmMi5wYXNzd29yZDsKICAgIGNvbW1pdCgnbG9naW5SZXF1ZXN0JywgewogICAgICBlbWFpbDogZW1haWwKICAgIH0pOwogICAgdXNlclNlcnZpY2UubG9naW4oZW1haWwsIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgIGNvbW1pdCgnbG9naW5TdWNjZXNzJywgdXNlcik7CiAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgY29uc29sZS5sb2coIkFVVEg6IiwgZXJyb3IpOwogICAgICBjb21taXQoJ2xvZ2luRmFpbHVyZScsIGVycm9yKTsKICAgICAgZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9lcnJvcicsIGVycm9yLCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gTG9nb3V0IHRoZSB1c2VyCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICB1c2VyU2VydmljZS5sb2dvdXQoKTsKICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgfSwKICAvLyByZWdpc3RlciB0aGUgdXNlcjUKICByZWdpc3RlcnVzZXI6IGZ1bmN0aW9uIHJlZ2lzdGVydXNlcihfcmVmNCwgdXNlcikgewogICAgdmFyIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2gsCiAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgY29tbWl0KCdyZWdpc3RlclJlcXVlc3QnLCB1c2VyKTsKICAgIHVzZXJTZXJ2aWNlLnJlZ2lzdGVyKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgY29tbWl0KCdyZWdpc3RlclN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9zdWNjZXNzJywgJ1JlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsJywgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb21taXQoJ3JlZ2lzdGVyRmFpbHVyZScsIGVycm9yKTsKICAgICAgZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9lcnJvcicsIGVycm9yLCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IHZhciBtdXRhdGlvbnMgPSB7CiAgbG9naW5SZXF1ZXN0OiBmdW5jdGlvbiBsb2dpblJlcXVlc3Qoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHsKICAgICAgbG9nZ2luZ0luOiB0cnVlCiAgICB9OwogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfSwKICBsb2dpblN1Y2Nlc3M6IGZ1bmN0aW9uIGxvZ2luU3VjY2VzcyhzdGF0ZSwgdXNlcikgewogICAgc3RhdGUuc3RhdHVzID0gewogICAgICBsb2dnZWR1c2VyOiB0cnVlCiAgICB9OwogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfSwKICBsb2dpbkZhaWx1cmU6IGZ1bmN0aW9uIGxvZ2luRmFpbHVyZShzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0ge307CiAgICBzdGF0ZS51c2VyID0gbnVsbDsKICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSB7fTsKICAgIHN0YXRlLnVzZXIgPSBudWxsOwogIH0sCiAgcmVnaXN0ZXJSZXF1ZXN0OiBmdW5jdGlvbiByZWdpc3RlclJlcXVlc3Qoc3RhdGUpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHsKICAgICAgcmVnaXN0ZXJpbmc6IHRydWUKICAgIH07CiAgfSwKICByZWdpc3RlclN1Y2Nlc3M6IGZ1bmN0aW9uIHJlZ2lzdGVyU3VjY2VzcyhzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0ge307CiAgfSwKICByZWdpc3RlckZhaWx1cmU6IGZ1bmN0aW9uIHJlZ2lzdGVyRmFpbHVyZShzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0ge307CiAgfQp9Ow=="},{"version":3,"sources":["/home/andydevs69420/Documents/DTO/CQIFrontend/src/state/modules/auth.js"],"names":["userService","router","user","JSON","parse","localStorage","getItem","state","status","loggeduser","actions","login","dispatch","commit","email","password","then","push","error","console","log","root","logout","registeruser","register","mutations","loginRequest","loggingIn","loginSuccess","loginFailure","registerRequest","registering","registerSuccess","registerFailure"],"mappings":"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","sourcesContent":["import { userService } from '../../helpers/authservice/user.service';\r\nimport router from '../../router/index'\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nexport const state = user\r\n    ? { status: { loggeduser: true }, user }\r\n    : { status: {}, user: null };\r\n\r\nexport const actions = {\r\n    // Logs in the user.\r\n    // eslint-disable-next-line no-unused-vars\r\n    login({ dispatch, commit }, { email, password }) {\r\n        commit('loginRequest', { email });\r\n\r\n        userService.login(email, password)\r\n            .then(\r\n                user => {\r\n                    commit('loginSuccess', user);\r\n                    router.push('/');\r\n                },\r\n                error => {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(\"AUTH:\",error)\r\n                    commit('loginFailure', error);\r\n                    dispatch('notification/error', error, { root: true });\r\n                }\r\n            );\r\n    },\r\n    // Logout the user\r\n    logout({ commit }) {\r\n        userService.logout();\r\n        commit('logout');\r\n    },\r\n    // register the user5\r\n    registeruser({ dispatch, commit }, user) {\r\n        commit('registerRequest', user);\r\n        userService.register(user)\r\n            .then(\r\n                user => {\r\n                    commit('registerSuccess', user);\r\n                    dispatch('notification/success', 'Registration successful', { root: true });\r\n\r\n                    router.push('/login');\r\n\r\n                },\r\n                error => {\r\n                    commit('registerFailure', error);\r\n                    dispatch('notification/error', error, { root: true });\r\n                }\r\n            );\r\n    }\r\n};\r\n\r\nexport const mutations = {\r\n    loginRequest(state, user) {\r\n        state.status = { loggingIn: true };\r\n        state.user = user;\r\n    },\r\n    loginSuccess(state, user) {\r\n        state.status = { loggeduser: true };\r\n        state.user = user;\r\n    },\r\n    loginFailure(state) {\r\n        state.status = {};\r\n        state.user = null;\r\n    },\r\n    logout(state) {\r\n        state.status = {};\r\n        state.user = null;\r\n    },\r\n    registerRequest(state) {\r\n        state.status = { registering: true };\r\n    },\r\n    registerSuccess(state) {\r\n        state.status = {};\r\n    },\r\n    registerFailure(state) {\r\n        state.status = {};\r\n    }\r\n};\r\n\r\n"]}]}